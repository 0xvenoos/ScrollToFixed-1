(function(a){a.ScrollToFixed=function(d,n){function h(){i();f=-1;j=c.offset().top;k=c.offset().left;l=!0}function i(){c.css("position")=="fixed"&&(e.css("display","none"),c.css({width:"",position:"",left:"",top:""}))}function m(){l||h();var d=a(window).scrollTop(),g=a(window).scrollLeft();d>=j-b.options.marginTop?(g!=f&&(f=g,c.css("left",k-g)),c.css("position")!="fixed"&&(e.css({display:c.css("display"),width:c.outerWidth(!0),height:c.outerHeight(!0)}),c.css({width:c.width(),position:"fixed",top:b.options.marginTop}))):
i()}var b=this;b.$el=a(d);b.el=d;b.$el.data("ScrollToFixed",b);var l=!1,c=b.$el,j=0,k=0,f=-1,e=null;b.init=function(){b.options=a.extend({},a.ScrollToFixed.defaultOptions,n);navigator.platform=="iPad"||navigator.platform=="iPhone"||navigator.platform=="iPod"||(b.$el.css("z-index",1E3),e=a("<div/>"),b.$el.after(e),a(window).bind("resize",function(){h();m()}),a(window).bind("scroll",function(){m()}))};b.init()};a.ScrollToFixed.defaultOptions={marginTop:0};a.fn.scrollToFixed=function(d){return this.each(function(){new a.ScrollToFixed(this,
d)})}})(jQuery);