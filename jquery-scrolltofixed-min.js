(function(a){a.ScrollToFixed=function(d,m){function g(){h();f=-1;i=c.offset().top;j=c.offset().left;k=!0}function h(){c.css("position")=="fixed"&&(e.css("display","none"),c.css({width:"",position:"",left:"",top:""}))}function l(){k||g();var d=a(window).scrollLeft();a(window).scrollTop()>=i-b.options.marginTop?(d!=f&&(c.css("left",j-d),f=d),c.css("position")!="fixed"&&(e.css({display:c.css("display"),width:c.outerWidth(!0),height:c.outerHeight(!0)}),c.css({width:c.width(),position:"fixed",top:b.options.marginTop}))):
h()}var b=this;b.$el=a(d);b.el=d;b.$el.data("ScrollToFixed",b);var k=!1,c=b.$el,i=0,j=0,f=-1,e=null;b.init=function(){b.options=a.extend({},a.ScrollToFixed.defaultOptions,m);navigator.platform=="iPad"||navigator.platform=="iPhone"||navigator.platform=="iPod"||(b.$el.css("z-index",1E3),e=a("<div/>"),b.$el.after(e),a(window).bind("resize",function(){g();l()}),a(window).bind("scroll",function(){l()}))};b.init()};a.ScrollToFixed.defaultOptions={marginTop:0};a.fn.scrollToFixed=function(d){return this.each(function(){new a.ScrollToFixed(this,
d)})}})(jQuery);